<!DOCTYPE html>
{% load static %}
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>DMRs</title>
    <link rel="stylesheet" href="{% static 'shop.css' %}">
    <style>
      .CATEGORY .animation {
          position: absolute;
          height: 2px; /* Height of the underline */
          top: 45px; /* Position of the animation */
          background-color: #ffffff; /* White for the animation background */
          border-radius: 8px;
          transition: all 0.5s ease 0s;
          left : 14.5%;
          width: 55px;
      }
      
      /* Link-specific animation targets */
      .CATEGORY a:nth-child(1):hover ~ .animation {
          width: 50px;
          left: 55px; /* Position under the first link */
      }
      
      .CATEGORY a:nth-child(2):hover ~ .animation {
          width: 55px;
          left: 14.5%; /* Position under the second link */
      }
      
      .CATEGORY a:nth-child(3):hover ~ .animation {
          width: 55px;
          left: 25.7%; /* Position under the third link */
      }
      
      .CATEGORY a:nth-child(4):hover ~ .animation {
          width: 40px;
          left: 37.5%; /* Position under the fourth link */
      }
      
      .CATEGORY a:nth-child(5):hover ~ .animation {
          width: 100px;
          left: 46.5%; /* Position under the fifth link */
      }
      
      .CATEGORY a:nth-child(6):hover ~ .animation {
          width: 100px;
          left: 57.5%; /* Position under the sixth link */
      }
      
      .CATEGORY a:nth-child(7):hover ~ .animation {
          width: 75px;
          left: 69.9%; /* Position under the seventh link */
      }
      
      .CATEGORY a:nth-child(8):hover ~ .animation {
          width: 100px;
          left: 79.5%; /* Position under the eighth link */
      }
      
      .CATEGORY a:nth-child(9):hover ~ .animation {
          width: 40px;
          left: 93%; /* Position under the ninth link */
      }
      .icon {
        position: fixed;
        top: 20px; /* Margin from the top */
        left: 20px; /* Margin from the left */
        width: 50px; /* Size of the icon */
        height: 50px; /* Size of the icon */
        background-color: #ffaa00; /* Background color */
        color: #1c1c1c; /* Icon color */
        border-radius: 10px; /* Rounded corners */
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Added shadow */
        transition: background-color 0.3s ease;
        z-index: 999; /* Adjusted z-index */  
    }

    .icon:hover {
        background-color: #1c1c1c; /* Change color on hover */
        
        color: #ffaa00; /* Change icon color on hover */
    }
    button {
      background-color: #ffaa00;
      color: #1c1c1c;
      padding: 12px 25px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin-right: 20px;
      transition: background-color 0.3s ease, transform 0.3s ease;
      font-size: 1.2rem;
  }
  button:hover{
    background-color: #7a7a7a;
    color: #ffaa00;
    transform: scale(1.05);
  }
  </style>
  </head>
  <body>
    <nav class="NAV">
      <a href='{% url 'armory:armory_home' %}'>HOME</a>
      <a href='{% url 'armory:AR' %}' id="activesec">ARSENAL</a>
      <a href='{% url 'armory:ATTACHMENTS_MAIN' %}'>GEARS</a>
      <a href="{% url 'orders:show_orders' %}">MY ORDERS</a>
      <a href="{% url 'armory:ABOUT_US' %}">ABOUT US</a>
      <div class="animation"></div> <!-- Animation div placed here -->
    </nav>
    <div class="icon" onclick="window.location.href='{% url 'accounts:profile' username=user.username %}'">
      <!-- You can put an icon here, e.g., an image or text -->
      <span>ðŸ‘¤</span> <!-- Example icon using emoji -->
      <!-- You can also use an <img> tag if you have an icon image -->
      <!-- <img src="{% static 'images/icon.png' %}" alt="Icon" style="width: 100%; height: 100%; border-radius: 10px;"> -->
  </div>
     <div id="weapon_written"><h1>WEAPONS</h1></div>
     <nav class="CATEGORY">
      <a href="{% url 'armory:AR' %}" >AR</a>
      <a href="{% url 'armory:DMR' %}"id ="mainsec">DMR</a>
      <a href="{% url 'armory:SMG' %}">SMG</a>
      <a href="{% url 'armory:SR' %}">SR</a>
      <a href="{% url 'armory:SHOTGUN' %}">SHOTGUN</a>
      <a href="{% url 'armory:HANDGUN' %}">HANDGUN</a>
      <a href="{% url 'armory:MELEE' %}">MELEE</a>
      <a href="{% url 'armory:THROWABLE' %}">THROWABLE</a>
      <a href="{% url 'armory:ETC' %}">ETC</a>
        <div class="animation"></div> <!-- Animation div placed here -->
      </nav>
      <div class="card-container">
        <div class="card" onclick="openModal('Mini14', 'Mini-14 - A lightweight and versatile semi-automatic rifle, known for its reliability and accuracy. Chambered in 5.56Ã—45mm NATO, it excels in medium-range engagements, making it suitable for a variety of tactical applications.', 'https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-mini14.png')">
          <div class="image-container">
            <img src="https://wstatic-prod.pubg.com/web/live/main_e0d2a32/img/09cb859.png" alt="M16A4 Image" class="image1">
            <img src="https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-mini14.png" alt="M16A4 Image" class="image2">
          </div>
          <h3>Mini14</h3>
        </div>

        <div class="card" onclick="openModal('Qbu88', 'QBU88 - A lightweight, semi-automatic designated marksman rifle, designed for precision shooting. Chambered in 5.8Ã—42mm, it offers a balance of firepower and accuracy, making it effective for medium to long-range engagements.', 'https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-qbu88.pngg')">
          <div class="image-container">
            <img src="https://wstatic-prod.pubg.com/web/live/main_e0d2a32/img/09cb859.png" alt="M416 Image" class="image1">
            <img src="https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-qbu88.png" alt="M416 Image" class="image2">
          </div>
          <h3>Qbu88</h3>
        </div>

        <div class="card" onclick="openModal('Mk12', 'Mk12 - A highly adaptable designated marksman rifle known for its accuracy and versatility. Chambered in 5.56Ã—45mm NATO, it features a precision barrel and various attachments, making it effective for both short and long-range engagements.', 'https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-mk12.png')">
          <div class="image-container">
            <img src="https://wstatic-prod.pubg.com/web/live/main_e0d2a32/img/09cb859.png" alt="m24 Image" class="image1">
            <img src="https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-mk12.png" alt="SCAR-L Image" class="image2">
          </div>
          <h3>Mk12</h3>
        </div>
    </div>
    <div class="card-container">
        <div class="card" onclick="openModal('SKS', 'SKS - A semi-automatic carbine known for its reliability and rugged design. Chambered in 7.62Ã—39mm, it combines moderate recoil with effective stopping power, making it suitable for medium-range engagements and a favorite among collectors and enthusiasts.', 'https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-sks.png')">
          <div class="image-container">
            <img src="https://wstatic-prod.pubg.com/web/live/main_e0d2a32/img/09cb859.png" alt="AWM Image" class="image1">
            <img src="https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-sks.png" alt="G36C Image" class="image2">
          </div>
          <h3>SKS</h3>
        </div>

        <div class="card" onclick="openModal('SLR', 'SLR (Self-Loading Rifle) - A semi-automatic rifle based on the AK-47 platform, known for its durability and powerful performance. Chambered in 7.62Ã—51mm NATO, it offers significant stopping power and accuracy, making it effective for a variety of tactical situations.', 'https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-slr.png')">
          <div class="image-container">
            <img src="https://wstatic-prod.pubg.com/web/live/main_e0d2a32/img/09cb859.png" alt="Win94 Image" class="image1">
            <img src="https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-slr.png" alt="QBZ95 Image" class="image2">
          </div>
          <h3>SLR</h3>
        </div>

        <div class="card" onclick="openModal('Mk14', 'Mk14 - A versatile designated marksman rifle, known for its accuracy and adaptability. Chambered in 7.62Ã—51mm NATO, it can be configured for both semi-automatic and automatic fire, making it effective for medium to long-range engagements.', 'https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-mk14.png')">
          <div class="image-container">
            <img src="https://wstatic-prod.pubg.com/web/live/main_e0d2a32/img/09cb859.png" alt="AMR Image" class="image1">
            <img src="https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-mk14.png" alt="K2 Image" class="image2">
          </div>
          <h3>Mk14</h3>
        </div>
    </div>
    <div class="card-container">
      <div class="card" onclick="openModal('VSS', 'VSS Vintorez - A suppressed sniper rifle known for its stealth and precision. Chambered in 9Ã—39mm, it features an integral suppressor, making it ideal for covert operations and silent engagements at medium range.', 'https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-vss.png')">
        <div class="image-container">
          <img src="https://wstatic-prod.pubg.com/web/live/main_e0d2a32/img/09cb859.png" alt="AWM Image" class="image1">
          <img src="https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-vss.png" alt="G36C Image" class="image2">
        </div>
        <h3>VSS</h3>
      </div>

      <div class="card" onclick="openModal('Dragunov', 'Dragunov - A semi-automatic sniper rifle renowned for its accuracy and effective range. Chambered in 7.62Ã—54mmR, it combines high stopping power with a lightweight design, making it suitable for both designated marksman roles and long-range engagements.', 'https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-dragunov.png')">
        <div class="image-container">
          <img src="https://wstatic-prod.pubg.com/web/live/main_e0d2a32/img/09cb859.png" alt="Win94 Image" class="image1">
          <img src="https://wstatic-prod.pubg.com/web/live/static/game-info/weapons/images/viewer/img-weapons-dragunov.png" alt="QBZ95 Image" class="image2">
        </div>
        <h3>Dragunov</h3>
      </div>
      <div class="card">
        <!-- BLANK -->
      </div>
  </div>
<!-- Modal Structure -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <h2 id="modalTitle" class="hover-effect"></h2>
    <div class="modal-body">
      <div id="modalDetails" class="details"></div>
      <div class="image-containerx">
        <img id="modalImage" src="" alt="Weapon Image">
      </div>
    </div>
    <hr>
    <!-- Form for submitting the modal title -->
<!-- Form for submitting the modal title -->
<form id="modalForm" action="" method="POST">
  {% csrf_token %}
  <input type="text" id="modalTitleInput" name="modalTitle" style="display: none;"> <!-- Hidden input -->
  <button type="button" onclick="submitModalForm(this)">BUY</button>
</form>

  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    'use strict';

    // Function to open the modal and set the weapon details
    window.openModal = function(weaponName, weaponDetails, imageUrl) {
        const modal = document.getElementById("myModal");

        // Set the weapon name in the modal title
        const modalTitle = document.getElementById("modalTitle");
        if (modalTitle) {
            modalTitle.textContent = weaponName;
        } else {
            console.error("Element with ID 'modalTitle' not found.");
        }

        // Set the weapon details in the modal body
        const modalDetails = document.getElementById("modalDetails");
        if (modalDetails) {
            modalDetails.textContent = weaponDetails;
        } else {
            console.error("Element with ID 'modalDetails' not found.");
        }

        // Set the weapon image in the modal
        const modalImage = document.getElementById("modalImage");
        if (modalImage) {
            modalImage.src = imageUrl;
        } else {
            console.error("Element with ID 'modalImage' not found.");
        }

        // Set the weapon name in the hidden input field
        const modalTitleInput = document.getElementById('modalTitleInput');
        if (modalTitleInput) {
            modalTitleInput.value = weaponName;
        } else {
            console.error("Element with ID 'modalTitleInput' not found.");
        }

        // Update the form action to point to the correct buy URL
        const form = document.getElementById('modalForm');
        if (form) {
            form.action = `/armory/buy/${encodeURIComponent(weaponName)}/`;

        } else {
            console.error("Form with ID 'modalForm' not found.");
        }

        // Show the modal
        modal.style.display = "block";
    };

    // Function to handle form submission
    window.submitModalForm = function(button) {
        const form = document.getElementById('modalForm');
        if (form) {
            form.submit(); // Submit the form to the action URL
        } else {
            console.error("Form with ID 'modalForm' not found.");
        }
    };

    // Optional: Close modal function
    window.closeModal = function() {
        const modal = document.getElementById("myModal");
        if (modal) {
            modal.style.display = "none"; // Hide the modal
        } else {
            console.error("Element with ID 'myModal' not found.");
        }
    };
});
</script>
</body>
</html>